{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\924245\\\\React\\\\Final-Project\\\\src\\\\Components\\\\Cart.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-square-payment-form/lib/default.css\";\nimport \"./Cart.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Cart() {\n  _s();\n\n  let [cartObject, setCartObj] = useState(\"\");\n  let [total, setTotal] = useState(0);\n  const history = useHistory();\n  let amount = 0;\n  useEffect(() => {\n    axios.get(`http://localhost:5000/product/getcart/${localStorage.getItem(\"name\")}`).then(res => {\n      let cartData = res.data.message;\n      setCartObj(cartData);\n\n      for (let i = 0; i < cartData.length; i++) {\n        amount = amount + (cartData[i].price - Math.floor(cartData[i].price / 10)) * cartData[i].quantity;\n      }\n\n      setTotal(amount);\n    }).catch(err => {\n      alert(\"something wrong with server connection\");\n      alert(err.message);\n    });\n  }, [cartObject, total]);\n\n  function increment(increment) {\n    increment.username = localStorage.getItem(\"name\");\n    axios.post(\"http://localhost:5000/product/increment\", increment).then(res => {\n      alert(res.data.message);\n    }).catch(err => {\n      alert(\"something wrong with server connection\");\n      alert(err.message);\n    });\n  }\n\n  function decrement(decrement) {\n    decrement.username = localStorage.getItem(\"name\");\n    axios.post(\"http://localhost:5000/product/decrement\", decrement).then(res => {\n      alert(res.data.message);\n    }).catch(err => {\n      alert(\"something wrong with server connection\");\n      alert(err.message);\n    });\n  }\n\n  function remove(remove) {\n    remove.username = localStorage.getItem(\"name\");\n    axios.post(\"http://localhost:5000/product/remove\", remove).then(res => {\n      alert(res.data.message);\n      history.push(\"/\");\n    }).catch(err => {\n      alert(\"something wrong with server connection\");\n      alert(err.message);\n    });\n  }\n\n  function payments() {\n    let orders;\n    orders.username = localStorage.getItem(\"name\");\n\n    for (let i = 0; i < cartObject.length; i++) {}\n\n    axios.post(\"http://localhost:5000/user/orders\", orders).then(res => {\n      alert(res.data.message);\n      history.push(\"/\");\n    });\n    alert(\"payment is Completed,Please awit for Delivery \");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"m-3 mt-5\",\n    children: cartObject.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"m-5 text-center cart  \",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-danger\",\n        children: \"Oops Your cart is empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"cart-img-main\",\n        src: \"https://i.pinimg.com/originals/66/22/ab/6622ab37c6db6ac166dfec760a2f2939.gif\",\n        alt: \"img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-cart\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card border-0 shadow  \",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Shopping Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              className: \"border border-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this), cartObject && cartObject.map((elements, ind) =>\n            /*#__PURE__*/\n            // eslint-disable-next-line react/jsx-key\n            _jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-2 \",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"cart-img\",\n                    src: elements.profilePic,\n                    alt: \"img\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-10\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \" \",\n                    children: [\"Product Name : \", elements.bookname, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"\",\n                    children: [\"   Price : \", /*#__PURE__*/_jsxDEV(\"s\", {\n                      className: \"text-danger\",\n                      children: elements.price\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 73\n                    }, this), \"  \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: [\"Offer Price : \", elements.price - elements.price / 10, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ms-2 text-success\",\n                      children: [\"You save Upto : \", elements.price / 10, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 100\n                    }, this), \"  \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"h4 \",\n                      children: \"Qty :\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"h2 btn btn-outline-success plus ms-3\",\n                      onClick: () => increment(elements),\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"h2  ms-3\",\n                      children: elements.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"h2  minus btn btn-outline-warning ms-3\",\n                      onClick: () => decrement(elements),\n                      children: \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"h6 remove btn btn-outline-danger ms-3\",\n                      onClick: () => remove(elements),\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ms-2 text-info h6\",\n                      children: [\"Total :\", Math.floor(elements.price - elements.price / 10) * elements.quantity]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 41\n                }, this)]\n              }, ind, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"border border-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 33\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card border-0 shadow  \",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"mt-3 text-danger\",\n              children: [\"Sub-Total : \", total, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mb-5\",\n              children: /*#__PURE__*/_jsxDEV(StripeCheckout, {\n                className: \"mt-3\",\n                stripeKey: \"pk_test_51JCgnCSFkM8mIruoggDepHpHtlQLZmJFz8dRwiFO2qfAAORKhyRkpyYc6Mp0ELKbC4EgWAANsN4Pin4sCb225eSl00DCc0owyZ\",\n                billingAddress: true,\n                shippingAddress: true,\n                amount: total * 100,\n                token: () => payments()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 12\n  }, this);\n}\n\n_s(Cart, \"9Gi3Q803iUgNfUSJ0FCHYBzd9Cc=\", false, function () {\n  return [useHistory];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/Users/924245/React/Final-Project/src/Components/Cart.js"],"names":["axios","useEffect","useState","useHistory","StripeCheckout","Cart","cartObject","setCartObj","total","setTotal","history","amount","get","localStorage","getItem","then","res","cartData","data","message","i","length","price","Math","floor","quantity","catch","err","alert","increment","username","post","decrement","remove","push","payments","orders","map","elements","ind","profilePic","bookname"],"mappings":"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","sourcesContent":["\nimport axios from \"axios\";\nimport { useEffect,useState } from \"react\";\nimport {  useHistory } from \"react-router-dom\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-square-payment-form/lib/default.css\";\n\n\nimport \"./Cart.css\";\n\nfunction Cart(){\n\n    let [cartObject,setCartObj]=useState(\"\");\n    let [total,setTotal]=useState(0);\n    const history = useHistory();\n    \n    let amount=0;\n\n    useEffect(()=>{\n        axios.get(`http://localhost:5000/product/getcart/${localStorage.getItem(\"name\")}`)\n            .then(res=>{\n                let cartData=res.data.message;\n                setCartObj(cartData);\n                for(let i=0;i<cartData.length;i++){\n                   \n                    amount=amount +(cartData[i].price-(Math.floor(cartData[i].price/10)))*cartData[i].quantity;\n                }\n                setTotal(amount);\n            })\n            .catch((err)=>{\n                alert(\"something wrong with server connection\");\n                alert(err.message);\n            });\n\n   \n   \n\n    },[cartObject,total]);\n\n    function increment(increment){\n        increment.username=localStorage.getItem(\"name\");\n        axios.post(\"http://localhost:5000/product/increment\",increment)\n            .then(res=>{\n                alert(res.data.message);\n\n            })\n            .catch((err)=>{\n                alert(\"something wrong with server connection\");\n                alert(err.message);\n            });\n\n    }\n\n    function decrement(decrement){\n        decrement.username=localStorage.getItem(\"name\");\n        axios.post(\"http://localhost:5000/product/decrement\",decrement)\n            .then(res=>{\n                alert(res.data.message);\n\n            })\n            .catch((err)=>{\n                alert(\"something wrong with server connection\");\n                alert(err.message);\n            });\n\n    }\n\n    function remove(remove){\n\n        remove.username=localStorage.getItem(\"name\");\n        axios.post(\"http://localhost:5000/product/remove\",remove)\n            .then(res=>{\n                alert(res.data.message);\n                history.push(\"/\");\n            \n\n            })\n            .catch((err)=>{\n                alert(\"something wrong with server connection\");\n                alert(err.message);\n            });\n\n    }\n  \n    function payments(){\n\n        let orders;\n        orders.username=localStorage.getItem(\"name\");\n        for(let i=0;i<cartObject.length;i++){}\n        axios.post(\"http://localhost:5000/user/orders\",orders)\n            .then(res=>{\n                alert(res.data.message);\n                history.push(\"/\");\n        \n\n            });\n      \n        alert(\"payment is Completed,Please awit for Delivery \");\n    }\n\n    \n    \n\n    return(<div className=\"m-3 mt-5\">\n\n        {cartObject.length===0?\n            <div className=\"m-5 text-center cart  \">\n                <h1 className=\"text-danger\">Oops Your cart is empty</h1>\n                <img className=\"cart-img-main\" src=\"https://i.pinimg.com/originals/66/22/ab/6622ab37c6db6ac166dfec760a2f2939.gif\" alt=\"img\"></img>\n            </div>\n            :\n         \n            <div className=\"container-cart\">\n            \n                <div className=\"row \">\n                \n                \n                    <div className=\"col-md-8\">\n                    \n               \n                        <div className=\"card border-0 shadow  \">\n                            <h1>Shopping Cart</h1>\n                            <hr className=\"border border-1\"></hr>\n                   \n\n                            {cartObject && cartObject.map((elements,ind)=>\n                                // eslint-disable-next-line react/jsx-key\n                                <div>\n                                    <div className=\"row mb-2\" key={ind}>\n                                        <div className=\"col-md-2 \">\n\n                                            <img className=\"cart-img\" src={elements.profilePic} alt=\"img\"></img>\n                              \n                                        </div>\n\n                                        <div className=\"col-md-10\">\n                           \n\n                                            <h2 className=\" \">Product Name : {elements.bookname} </h2>\n                                            <h6 className=\"\">   Price : <s className=\"text-danger\">{elements.price}</s>  </h6>\n                                            <h6>Offer Price : {elements.price-(elements.price)/10} <span className=\"ms-2 text-success\">You save Upto : {(elements.price)/10} </span>  </h6>\n                           \n                                            <div>\n                                                <span className=\"h4 \">Qty :</span>\n                                                <span className=\"h2 btn btn-outline-success plus ms-3\" onClick={()=>increment(elements)}>+</span>\n                                                <span className=\"h2  ms-3\">{elements.quantity}</span>\n                                                <span className=\"h2  minus btn btn-outline-warning ms-3\" onClick={()=>decrement(elements)}>-</span>\n                                                <span className=\"h6 remove btn btn-outline-danger ms-3\" onClick={()=>remove(elements)}>Remove</span>\n                                                <span className=\"ms-2 text-info h6\">Total :{Math.floor(elements.price-(elements.price)/10)*elements.quantity}</span>\n                                            </div>\n                              \n                            \n                            \n                                        </div>\n                          \n\n                                    </div>\n                                    <hr className=\"border border-1\"></hr>\n                                </div>\n                       \n                       \n                            )}\n                \n                        </div>\n\n                    </div>\n                    <div className=\"col-md-4\">\n                        <div className=\"card border-0 shadow  \">\n                   \n                            <h2 className=\"mt-3 text-danger\">Sub-Total : {total} </h2>\n                            <div className=\"text-center mb-5\">\n                                {/* <button className=\"cart-btn \">Proceed to Buy</button> */}\n                                <StripeCheckout className=\"mt-3\"\n                                    stripeKey=\"pk_test_51JCgnCSFkM8mIruoggDepHpHtlQLZmJFz8dRwiFO2qfAAORKhyRkpyYc6Mp0ELKbC4EgWAANsN4Pin4sCb225eSl00DCc0owyZ\"\n                                    billingAddress\n                                    shippingAddress\n                                    amount={total*100}\n                                    token={()=>payments()}\n                                />\n\n\n       \n     \n                            </div>\n                    \n                        </div>\n                    \n                    </div>\n                </div>\n            </div>\n        }\n    </div>);\n\n}\n\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}