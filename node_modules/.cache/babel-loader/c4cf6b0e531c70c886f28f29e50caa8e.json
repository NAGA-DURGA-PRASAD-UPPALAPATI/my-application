{"ast":null,"code":"import _slicedToArray from\"C:/Users/924245/React/Final-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";// import {useParams} from \"react-router-dom\";\nimport{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import*as ReactBootStrap from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SellerProduct(){// let paramsObj=useParams();\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),spin=_useState4[0],setSpin=_useState4[1];var history=useHistory();useEffect(function(){axios.get(\"http://localhost:5000/product/getproduct/\".concat(localStorage.getItem(\"name\"))).then(function(res){var productObj=res.data.message;setProduct(productObj);setSpin(true);console.log(product[0]);});});function handleEdit(edit){history.push(\"/edit/\".concat(edit));}function handleDelete(del){axios.post(\"http://localhost:5000/product/delete/\".concat(del)).then(function(res){var resobj=res.data;alert(resobj.message);if(resobj.message===\"product deleted\"){history.push(\"/\");}}).catch(function(err){console.log(err);alert(err.message);});}return/*#__PURE__*/_jsx(\"div\",{children:spin===false?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-5 h1\",children:[/*#__PURE__*/_jsx(ReactBootStrap.Spinner,{animation:\"grow\",variant:\"primary\"}),/*#__PURE__*/_jsx(ReactBootStrap.Spinner,{animation:\"grow\",variant:\"secondary\"}),/*#__PURE__*/_jsx(ReactBootStrap.Spinner,{animation:\"grow\",variant:\"success\"}),/*#__PURE__*/_jsx(ReactBootStrap.Spinner,{animation:\"grow\",variant:\"danger\"}),/*#__PURE__*/_jsx(ReactBootStrap.Spinner,{animation:\"grow\",variant:\"warning\"}),/*#__PURE__*/_jsx(ReactBootStrap.Spinner,{animation:\"grow\",variant:\"info\"}),/*#__PURE__*/_jsx(ReactBootStrap.Spinner,{animation:\"grow\",variant:\"dark\"})]}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"mt-3 table table-dark table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Book NAme\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Remove\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:product&&product.map(function(index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index.bookname}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{width:\"50px\",src:index.profilePic})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleEdit(index.bookname);},className:\"btn btn-outline-success\",children:\"Edit\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDelete(index.bookname);},className:\"btn btn-outline-danger\",children:\"X\"})})]},index._id);})})]})})});}export default SellerProduct;","map":{"version":3,"sources":["C:/Users/924245/React/Final-Project/src/Components/SellerProducts.js"],"names":["axios","useEffect","useState","useHistory","ReactBootStrap","SellerProduct","product","setProduct","spin","setSpin","history","get","localStorage","getItem","then","res","productObj","data","message","console","log","handleEdit","edit","push","handleDelete","del","post","resobj","alert","catch","err","map","index","bookname","profilePic","_id"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n// import {useParams} from \"react-router-dom\";\nimport { useEffect,useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport * as ReactBootStrap from \"react-bootstrap\";\nfunction SellerProduct(){\n\n    // let paramsObj=useParams();\n    let [product,setProduct]=useState([]);\n    let [spin,setSpin]=useState(false);\n   \n    const history = useHistory();\n\n\n\n\n\n\n    useEffect(()=>{\n        axios.get(`http://localhost:5000/product/getproduct/${localStorage.getItem(\"name\")}`)\n            .then(res=>{\n                let productObj=res.data.message; \n                setProduct(productObj);\n                setSpin(true);\n                console.log(product[0]);\n\n            \n                \n          \n           \n            });\n    });\n\n    function handleEdit(edit){\n        history.push(`/edit/${edit}`);\n    }\n    function handleDelete(del){\n            \n               \n        axios.post(`http://localhost:5000/product/delete/${del}`)\n            .then(res=>{\n                let resobj=res.data;\n                alert(resobj.message);\n                if(resobj.message===\"product deleted\"){\n                    history.push(\"/\");\n                }\n            })\n            .catch(err=>{\n                console.log(err);\n                alert(err.message);\n            });\n                   \n    }\n    return(\n\n\n        <div>\n\n            {spin===false?<div className=\"text-center mt-5 h1\">\n                <ReactBootStrap.Spinner animation=\"grow\" variant=\"primary\" />\n                <ReactBootStrap.Spinner animation=\"grow\" variant=\"secondary\" />\n                <ReactBootStrap.Spinner animation=\"grow\" variant=\"success\" />\n                <ReactBootStrap.Spinner animation=\"grow\" variant=\"danger\" />\n                <ReactBootStrap.Spinner animation=\"grow\" variant=\"warning\" />\n                <ReactBootStrap.Spinner animation=\"grow\" variant=\"info\" />\n                <ReactBootStrap.Spinner animation=\"grow\" variant=\"dark\" />\n            </div>:<div>\n                <table className=\"mt-3 table table-dark table-striped\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">Book NAme</th>\n                            <th scope=\"col\">Image</th>\n                            <th scope=\"col\">Edit</th>\n                            <th scope=\"col\">Remove</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {product && product.map((index)=>{\n                            return(\n                                \n                                <tr key={index._id}>\n                                    <td >{index.bookname}</td>\n                                    <td><img width=\"50px\" src={index.profilePic} ></img></td>\n                                    <td><button onClick={()=>handleEdit(index.bookname)} className=\"btn btn-outline-success\">Edit</button></td>\n                                    <td><button onClick={()=>handleDelete(index.bookname)} className=\"btn btn-outline-danger\">X</button></td>\n                                </tr>\n                            ); })}\n                        \n                    </tbody>\n                </table>\n                \n\n                \n                \n                  \n                  \n              \n     \n               \n \n            </div>}\n       \n        </div>  );\n    \n}\n\nexport default SellerProduct;"]},"metadata":{},"sourceType":"module"}