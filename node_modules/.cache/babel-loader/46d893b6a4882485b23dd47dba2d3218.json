{"ast":null,"code":"import _slicedToArray from\"C:/Users/924245/React/Final-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import\"./Book.css\";import ReactStars from\"react-rating-stars-component\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Book(){var paramsObj=useParams();var _useState=useState(),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var history=useHistory();useEffect(function(){axios.get(\"http://localhost:5000/product/getbook/\".concat(paramsObj.bookname)).then(function(res){var productObj=res.data.message;setProduct(productObj);});});function handleCart(cartObj){cartObj.username=localStorage.getItem(\"name\");cartObj.quantity=1;axios.post(\"http://localhost:5000/product/cart\",cartObj).then(function(res){var response=res.data.message;alert(response);history.push(\"/cart\");}).catch(function(err){alert(err);});}function handleEdit(edit){history.push(\"/edit/\".concat(edit));}function handleDelete(del){axios.post(\"http://localhost:5000/product/delete/\".concat(del)).then(function(res){var resobj=res.data;alert(resobj.message);if(resobj.message===\"product deleted\"){history.push(\"/\");}}).catch(function(err){console.log(err);alert(err.message);});}function handleWhish(){alert(\"Product Added to Whishlist\");product.whish=localStorage.getItem(\"name\");axios.post(\"http://localhost:5000/user/whish/\",product).then().catch(function(err){console.log(err);alert(err.message);});}return/*#__PURE__*/_jsx(\"div\",{className:\"m-3\",children:product&&/*#__PURE__*/_jsx(\"div\",{className:\"container-book\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card book-img  border-0 shadow \",children:/*#__PURE__*/_jsx(\"img\",{src:product.profilePic,alt:\"img\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body h-100 justify-content-center border-0 shadow \",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\" \",children:[\"Book Name : \",product.bookname,\" \"]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Published Date : \",product.publishDate]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"\",children:[\"Author :  \",product.authorname]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"\",children:[\"   Price : \",/*#__PURE__*/_jsx(\"s\",{className:\"text-danger\",children:product.price}),\"  \"]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Offer Price : \",product.price-product.price/10,\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"ms-2 text-success\",children:[\"You save Upto : \",product.price/10,\" \"]}),\"  \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"h6\",children:\"Description :\"}),product.description]}),/*#__PURE__*/_jsx(\"span\",{className:\"h2\",children:\"Rating : \"}),\"  \",/*#__PURE__*/_jsx(ReactStars,{count:5,value:product.rating,size:48,activeColor:\"#ffd700\",readonly:true}),/*#__PURE__*/_jsx(\"hr\",{className:\"border border-dark border-2\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"User Ratings\"}),/*#__PURE__*/_jsx(\"img\",{className:\"user-img\",src:\"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8cmFuZG9tJTIwcGVyc29ufGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=60\",alt:\"img\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Emma\"}),/*#__PURE__*/_jsx(ReactStars,{count:5,value:product.rating,size:20,activeColor:\"#ffd700\",readonly:true}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-secondary\",children:[\"Reviewed in India on \",product.publishDate]}),/*#__PURE__*/_jsx(\"p\",{children:\"It\\u2019s an interesting book for answers on various life situations . Easy to read , easy to understand . A practical book on how to live day today . Sometimes we all need reminders . A must have book on your book shelf\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"h6 \",children:\"Was this helpful ?\"}),/*#__PURE__*/_jsx(\"span\",{className:\"h6\",children:\"Report\"})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"border border-dark border-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Review this product\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Share your thoughts with other customers\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",children:\"Write a product review\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow  \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"m-2\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\" text-success\",children:[\" \\u20B9 \",product.price-product.price/10,\"  \"]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-danger\",children:[\"   Price : \",/*#__PURE__*/_jsx(\"s\",{children:product.price}),\"  \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\" text-secondary\",children:[\"You save  : \",product.price/10,\" (10%) \"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Inclusive of all taxes\"}),localStorage.getItem(\"loginStatus\")===\"login success\"?localStorage.getItem(\"name\")===\"admin-1\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-cart\",onClick:function onClick(){return handleEdit(product.bookname);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buy-now\",onClick:function onClick(){return handleDelete(product.bookname);},children:\"Delete\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-cart\",onClick:function onClick(){return handleCart(product);},children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buy-now\",children:\"Buy Now\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-cart\",disabled:true,children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buy-now\",disabled:true,children:\"Buy Now\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-danger\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h6\",children:\"*\"}),\" Please login to proceed further\"]})]})]})}),localStorage.getItem(\"loginStatus\")===\"login success\"?localStorage.getItem(\"name\")===\"admin-1\"?/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 \",children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-list\",disabled:true,children:\"Add to Whishlist\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h5 \",children:\"Share \"}),/*#__PURE__*/_jsx(\"span\",{className:\"h3 ms-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-envelope ms-1\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"h3 ms-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook-square ms-1\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"h3 ms-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-twitter ms-1\"})})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-list\",onClick:handleWhish,children:\"Add to Whishlist\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h5 btn btn-outline-info\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Share \"}),/*#__PURE__*/_jsx(\"span\",{className:\"h3 ms-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-envelope ms-1\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"h3 ms-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook-square ms-1\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"h3 ms-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-twitter ms-1\"})})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-list\",disabled:true,children:\"Add to Whishlist\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h5 btn  \",children:\"Share \"}),/*#__PURE__*/_jsx(\"span\",{className:\"h3 ms-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-envelope ms-1\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"h3 ms-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook-square ms-1\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"h3 ms-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-twitter ms-1\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title h1\",id:\"exampleModalLabel\",children:\"Link \"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",\"data-bs-dismiss\":\"modal\",children:/*#__PURE__*/_jsx(\"span\",{children:\"X\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"h6 text-primary\",children:[\" http://localhost:3000/book/\",product.bookname]})})]})})})]})]})})});}export default Book;","map":{"version":3,"sources":["C:/Users/924245/React/Final-Project/src/Components/Book.js"],"names":["useEffect","useState","useParams","axios","ReactStars","useHistory","Book","paramsObj","product","setProduct","history","get","bookname","then","res","productObj","data","message","handleCart","cartObj","username","localStorage","getItem","quantity","post","response","alert","push","catch","err","handleEdit","edit","handleDelete","del","resobj","console","log","handleWhish","whish","profilePic","publishDate","authorname","price","description","rating"],"mappings":"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","sourcesContent":["\nimport { useEffect,useState } from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./Book.css\";\nimport ReactStars from \"react-rating-stars-component\";\nimport {  useHistory } from \"react-router-dom\";\n\nfunction Book(){\n\n    let paramsObj=useParams();\n    let [product,setProduct]=useState();\n    const history = useHistory();\n\n\n    useEffect(()=>{\n        axios.get(`http://localhost:5000/product/getbook/${paramsObj.bookname}`)\n            .then(res=>{\n                let productObj=res.data.message; \n                setProduct(productObj);\n            \n            });\n    });\n    function  handleCart(cartObj){\n           \n           \n        cartObj.username=localStorage.getItem(\"name\");\n        cartObj.quantity=1;\n            \n        axios.post(\"http://localhost:5000/product/cart\",cartObj)\n            .then(res=>{\n                let response=res.data.message;\n                alert(response);\n                history.push(\"/cart\");\n            })\n            .catch(err=>{\n                alert(err);\n            });\n            \n       \n\n    }\n\n   \n    function handleEdit(edit){\n        history.push(`/edit/${edit}`);\n    }\n    function handleDelete(del){\n            \n               \n        axios.post(`http://localhost:5000/product/delete/${del}`)\n            .then(res=>{\n                let resobj=res.data;\n                alert(resobj.message);\n                if(resobj.message===\"product deleted\"){\n                    history.push(\"/\");\n                }\n            })\n            .catch(err=>{\n                console.log(err);\n                alert(err.message);\n            });\n                   \n    }\n\n    function handleWhish(){\n        alert(\"Product Added to Whishlist\");\n        product.whish=localStorage.getItem(\"name\");\n        axios.post(\"http://localhost:5000/user/whish/\",product)\n            .then()\n            .catch(err=>{\n                console.log(err);\n                alert(err.message);\n            });\n        \n    }\n\n        \n    return(<div className=\"m-3\">\n        { product &&\n\n                    <div className=\"container-book\">\n                        \n                        <div className=\"row \">\n                            <div className=\"col-md-2\">\n                                <div className=\"card book-img  border-0 shadow \">\n                                    <img  src={product.profilePic} alt=\"img\"></img>\n                                </div>\n                            </div>\n                            <div className=\"col-md-6\">\n                                <div className=\"card card-body h-100 justify-content-center border-0 shadow \">\n                                    <h2 className=\" \">Book Name : {product.bookname} </h2>\n                                    <h4>Published Date : {product.publishDate}</h4>\n                                    <h6 className=\"\">Author :  {product.authorname}</h6>\n                                    <h6 className=\"\">   Price : <s className=\"text-danger\">{product.price}</s>  </h6>\n                                    <h6>Offer Price : {product.price-(product.price)/10} <span className=\"ms-2 text-success\">You save Upto : {(product.price)/10} </span>  </h6>\n                                    <p><span className=\"h6\">Description :</span>{product.description}</p>\n\n\n                                    <span className=\"h2\">Rating : </span>  <ReactStars\n                                        count={5}\n                                        value={product.rating}\n                                        size={48}\n                                        activeColor=\"#ffd700\"\n                                        readonly\n                                    />\n                                    <hr className=\"border border-dark border-2\"></hr>\n\n\n                                    <h4>User Ratings</h4>\n                                    <img className=\"user-img\" src=\"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8cmFuZG9tJTIwcGVyc29ufGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=60\" alt=\"img\"></img>\n                                    <h5>Emma</h5>\n                                    <ReactStars\n                                        count={5}\n                                        value={product.rating}\n                                        size={20}\n                                        activeColor=\"#ffd700\"\n                                        readonly\n                                    />\n                       \n                                    <h6 className=\"text-secondary\">Reviewed in India on {product.publishDate}</h6>\n                                    <p>It’s an interesting book for answers on various life situations . Easy to read , easy to understand . A practical book on how to live day today . Sometimes we all need reminders . A must have book on your book shelf</p>\n                                    <div>\n                                        <span className=\"h6 \" >Was this helpful ?</span><span className=\"h6\">Report</span>\n                                    </div>\n                                    <hr className=\"border border-dark border-2\"></hr>\n                                    <div className=\"mt-3\">\n                                        <h5>Review this product</h5>\n                                        <p>Share your thoughts with other customers</p>\n                                        <button className=\"btn btn-secondary\">Write a product review</button>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"col-md-4\">\n                                <div className=\"card border-0 shadow  \">\n                                    <div className=\"m-2\">\n                                        <h4 className=\" text-success\"> ₹ {product.price-(product.price)/10}  </h4>\n                                        <h6 className=\"text-danger\">   Price : <s>{product.price}</s>  </h6>\n\n                                        <span className=\" text-secondary\">You save  : {(product.price)/10} (10%) </span> \n                                        <p>Inclusive of all taxes</p>\n                                        {localStorage.getItem(\"loginStatus\")===\"login success\"?\n                                            localStorage.getItem(\"name\")===\"admin-1\"?\n                                                <div>\n                                                    <button className='add-cart'onClick={()=>handleEdit(product.bookname)}>Edit</button>\n                                                    <button className='buy-now'onClick={()=>handleDelete(product.bookname)} >Delete</button>\n                                                </div>\n                                                :\n                                                <div>\n                                                    <button className='add-cart' onClick={()=>handleCart(product)}>Add to Cart</button>\n                                                    <button className='buy-now'>Buy Now</button>\n                                                </div>\n                                            :\n                                            <div>\n                                                <button className='add-cart' disabled>Add to Cart</button>\n                                                <button className='buy-now' disabled>Buy Now</button>\n                                                <p className=\"text-danger\"><span className=\"h6\">*</span> Please login to proceed further</p>\n                                            </div>\n                                        } \n                                    </div>\n                                \n                                </div>\n                                {localStorage.getItem(\"loginStatus\")===\"login success\"?\n                                    localStorage.getItem(\"name\")===\"admin-1\"? \n\n\n                                        <div className=\"mt-5 \" >\n                                            <button className='add-list' disabled >Add to Whishlist</button>\n                                            <div className=\"mt-3\">\n                                                <span className=\"h5 \">Share </span>\n                                                <span className=\"h3 ms-3\"><i className=\"far fa-envelope ms-1\"></i></span>\n                                                <span className=\"h3 ms-3\"><i className=\"fab fa-facebook-square ms-1\"></i></span>\n                                                <span className=\"h3 ms-3\"><i className=\"fab fa-twitter ms-1\"></i></span>\n                                            </div>\n                                        </div>\n\n\n\n                                        :\n                                        <div className=\"mt-5\">\n                                            <button className='add-list' onClick={handleWhish}>Add to Whishlist</button>\n                                            <div className=\"mt-3\">\n                                                <span className=\"h5 btn btn-outline-info\"  data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">Share </span>\n                                                <span className=\"h3 ms-3\"><i className=\"far fa-envelope ms-1\"></i></span>\n                                                <span className=\"h3 ms-3\"><i className=\"fab fa-facebook-square ms-1\"></i></span>\n                                                <span className=\"h3 ms-3\"><i className=\"fab fa-twitter ms-1\"></i></span>\n                                            </div>\n                                        </div>\n                                    :\n\n\n                                    <div className=\"mt-5\" >\n                                        <button className='add-list' disabled >Add to Whishlist</button>\n                                        <div className=\"mt-3\">\n                                            <span className=\"h5 btn  \" >Share </span>\n                                            <span className=\"h3 ms-3\"><i className=\"far fa-envelope ms-1\"></i></span>\n                                            <span className=\"h3 ms-3\"><i className=\"fab fa-facebook-square ms-1\"></i></span>\n                                            <span className=\"h3 ms-3\"><i className=\"fab fa-twitter ms-1\"></i></span>\n                                        </div>\n                                    </div>\n                                    \n                                }\n                                {/*  Modal  */}\n                                <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                                    <div className=\"modal-dialog\" role=\"document\">\n                                        <div className=\"modal-content\">\n                                            <div className=\"modal-header\">\n                                                <h5 className=\"modal-title h1\" id=\"exampleModalLabel\">Link </h5>\n                                                <button className=\"btn btn-danger\"  data-bs-dismiss=\"modal\" >\n                                                    <span>X</span>\n                                                </button>\n                                            </div>\n                                            <div className=\"modal-body\">\n                                                <p className=\"h6 text-primary\"> http://localhost:3000/book/{product.bookname}</p>\n                                            </div>\n                                           \n                                        </div>\n                                    </div>\n                                </div>\n                                \n                            </div>\n                        </div>\n                    </div>\n\n        \n        }\n    </div>);\n}\n\nexport default Book;"]},"metadata":{},"sourceType":"module"}