{"ast":null,"code":"import _objectSpread from\"C:/Users/924245/React/Final-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/924245/React/Final-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./Addproduct.css\";import{Link,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddProduct(){var _errors$bookname,_errors$authorname,_errors$category,_errors$publisDate,_errors$description,_errors$price,_errors$rating;var history=useHistory();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var formHandleSubmit=function formHandleSubmit(productObj){//getting name from local storage\nproductObj.name=localStorage.getItem(\"name\");//create Formdata obj\nvar formData=new FormData();//add files to formdat\nformData.append(\"photo\",file,file.name);//add userobj to form data\nformData.append(\"userObj\",JSON.stringify(productObj));// axios post request for adding product \naxios.post(\"http://localhost:5000/product/createproduct\",formData).then(function(res){var resobj=res.data;alert(resobj.message);if(resobj.message===\"product created\"){//based on condition the path is selected\nif(localStorage.getItem(\"admin-1\")){history.push(\"/admin\");}else{history.push(\"/sellerproduct\");}}}).catch(function(err){console.log(err);alert(\"server is not respondoing!!! please check\");alert(err.message);});};// selecting file from pc\nvar onFileSelect=function onFileSelect(e){setFile(e.target.files[0]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-div\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{className:\"login-logo\",src:\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\",alt:\"img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-div\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Product\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(formHandleSubmit),children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Book Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",className:\"form-control border  border-dark\"},register(\"bookname\",{required:true})),{},{autoComplete:\"off\"})),((_errors$bookname=errors.bookname)===null||_errors$bookname===void 0?void 0:_errors$bookname.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"bookname is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Author Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",className:\"form-control border  border-dark\"},register(\"authorname\",{required:true})),{},{autoComplete:\"off\"})),((_errors$authorname=errors.authorname)===null||_errors$authorname===void 0?void 0:_errors$authorname.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Author Name is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({className:\"form-control border  border-dark\"},register(\"category\",{required:true})),{},{children:[/*#__PURE__*/_jsx(\"option\",{children:\"----Select Category----\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HTML,CSS & RWD\",children:\"HTML,CSS & RWD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Modern JavaScript\",children:\"Modern JavaScript\"}),/*#__PURE__*/_jsx(\"option\",{value:\"React JS\",children:\"React JS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Node JS\",children:\"Node JS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mongo DB\",children:\"Mongo DB\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Full Stack Developer\",children:\"Full Stack Developer\"})]})),((_errors$category=errors.category)===null||_errors$category===void 0?void 0:_errors$category.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Category is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Published Date\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"date\",className:\"form-control border  border-dark\"},register(\"publishDate\",{required:true})),{},{autoComplete:\"off\"})),((_errors$publisDate=errors.publisDate)===null||_errors$publisDate===void 0?void 0:_errors$publisDate.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Publish Date is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",className:\"form-control border  border-dark\"},register(\"description\",{required:true})),{},{autoComplete:\"off\"})),((_errors$description=errors.description)===null||_errors$description===void 0?void 0:_errors$description.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Description is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Cover Photo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control border  border-dark\",autoComplete:\"off\",onChange:function onChange(e){return onFileSelect(e);}}),/*#__PURE__*/_jsx(\"h5\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"number\",className:\"form-control border  border-dark\"},register(\"price\",{required:true})),{},{autoComplete:\"off\"})),((_errors$price=errors.price)===null||_errors$price===void 0?void 0:_errors$price.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Price is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Rating\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"me-3 h5\",children:[value,\" Star\"]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"range\"},register(\"rating\",{required:true})),{},{min:\"0\",max:\"5\",step:\"1\",onChange:function onChange(e){return setValue(e.target.value);}})),((_errors$rating=errors.rating)===null||_errors$rating===void 0?void 0:_errors$rating.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Rating is Required\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-signInButton mt-5\",children:\"Continue\"})]})]})]});}export default AddProduct;","map":{"version":3,"sources":["C:/Users/924245/React/Final-Project/src/Components/AddProduct.js"],"names":["Link","useHistory","useForm","useState","axios","AddProduct","history","register","handleSubmit","errors","formState","file","setFile","value","setValue","formHandleSubmit","productObj","name","localStorage","getItem","formData","FormData","append","JSON","stringify","post","then","res","resobj","data","alert","message","push","catch","err","console","log","onFileSelect","e","target","files","required","bookname","type","authorname","category","publisDate","description","price","rating"],"mappings":"mTAAA,MAAO,kBAAP,CACA,OAASA,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,OAAQC,OAAR,KAAsB,iBAAtB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAGA,QAASC,CAAAA,UAAT,EAAqB,8HAGjB,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CACA,aAA+CC,OAAO,EAAtD,CAAKK,QAAL,UAAKA,QAAL,CAAcC,YAAd,UAAcA,YAAd,CAAsCC,MAAtC,UAA2BC,SAA3B,CAAsCD,MAAtC,CACA,cAAmBN,QAAQ,EAA3B,wCAAKQ,IAAL,eAAUC,OAAV,eACA,eAAqBT,QAAQ,CAAC,CAAD,CAA7B,yCAAKU,KAAL,eAAWC,QAAX,eAEA,GAAMC,CAAAA,gBAAgB,CAAC,QAAjBA,CAAAA,gBAAiB,CAACC,UAAD,CAAc,CACjC;AACAA,UAAU,CAACC,IAAX,CAAgBC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAhB,CACA;AACA,GAAIC,CAAAA,QAAQ,CAAC,GAAIC,CAAAA,QAAJ,EAAb,CACA;AACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAwBX,IAAxB,CAA6BA,IAAI,CAACM,IAAlC,EACA;AACAG,QAAQ,CAACE,MAAT,CAAgB,SAAhB,CAA0BC,IAAI,CAACC,SAAL,CAAeR,UAAf,CAA1B,EAGA;AACAZ,KAAK,CAACqB,IAAN,CAAW,6CAAX,CAAyDL,QAAzD,EACKM,IADL,CACU,SAAAC,GAAG,CAAE,CACP,GAAIC,CAAAA,MAAM,CAACD,GAAG,CAACE,IAAf,CACAC,KAAK,CAACF,MAAM,CAACG,OAAR,CAAL,CACA,GAAGH,MAAM,CAACG,OAAP,GAAiB,iBAApB,CAAsC,CAElC;AACA,GAAGb,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAH,CAAmC,CAC/Bb,OAAO,CAAC0B,IAAR,CAAa,QAAb,EACH,CAFD,IAGI,CACA1B,OAAO,CAAC0B,IAAR,CAAa,gBAAb,EACH,CACJ,CACJ,CAdL,EAeKC,KAfL,CAeW,SAAAC,GAAG,CAAE,CACRC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAJ,KAAK,CAAC,2CAAD,CAAL,CACAA,KAAK,CAACI,GAAG,CAACH,OAAL,CAAL,CACH,CAnBL,EAoBH,CAhCD,CAiCA;AACA,GAAMM,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,CAACC,CAAD,CAAK,CACpB1B,OAAO,CAAC0B,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAP,CACH,CAFD,CAMA,mBACI,aAAK,SAAS,CAAC,UAAf,wBAGI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACI,YACI,SAAS,CAAC,YADd,CAEI,GAAG,CAAC,sGAFR,CAGI,GAAG,CAAC,KAHR,EADJ,EAHJ,cAUI,aAAK,SAAS,CAAC,aAAf,wBACI,sCADJ,cAII,cAAM,QAAQ,CAAEhC,YAAY,CAACO,gBAAD,CAA5B,wBAII,iCAJJ,cAKI,0CAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,kCAA7B,EAAoER,QAAQ,CAAC,UAAD,CAAY,CAACkC,QAAQ,CAAC,IAAV,CAAZ,CAA5E,MAA0G,YAAY,CAAC,KAAvH,GALJ,CAMK,mBAAAhC,MAAM,CAACiC,QAAP,4DAAiBC,IAAjB,IAAwB,UAAxB,eAAsC,UAAG,SAAS,CAAC,aAAb,kCAN3C,cASI,mCATJ,cAUI,0CAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,kCAA7B,EAAoEpC,QAAQ,CAAC,YAAD,CAAc,CAACkC,QAAQ,CAAC,IAAV,CAAd,CAA5E,MAA4G,YAAY,CAAC,KAAzH,GAVJ,CAWK,qBAAAhC,MAAM,CAACmC,UAAP,gEAAmBD,IAAnB,IAA0B,UAA1B,eAAwC,UAAG,SAAS,CAAC,aAAb,qCAX7C,cAcI,gCAdJ,cAeI,4CAAQ,SAAS,CAAC,kCAAlB,EAAyDpC,QAAQ,CAAC,UAAD,CAAY,CAACkC,QAAQ,CAAC,IAAV,CAAZ,CAAjE,6BACI,mDADJ,cAEI,eAAQ,KAAK,CAAC,gBAAd,4BAFJ,cAGI,eAAQ,KAAK,CAAC,mBAAd,+BAHJ,cAII,eAAQ,KAAK,CAAC,UAAd,sBAJJ,cAKI,eAAQ,KAAK,CAAC,SAAd,qBALJ,cAMI,eAAQ,KAAK,CAAC,UAAd,sBANJ,cAOI,eAAQ,KAAK,CAAC,sBAAd,kCAPJ,IAfJ,CAwBK,mBAAAhC,MAAM,CAACoC,QAAP,4DAAiBF,IAAjB,IAAwB,UAAxB,eAAsC,UAAG,SAAS,CAAC,aAAb,kCAxB3C,cA2BI,sCA3BJ,cA4BI,0CAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,kCAA7B,EAAoEpC,QAAQ,CAAC,aAAD,CAAe,CAACkC,QAAQ,CAAC,IAAV,CAAf,CAA5E,MAA6G,YAAY,CAAC,KAA1H,GA5BJ,CA6BK,qBAAAhC,MAAM,CAACqC,UAAP,gEAAmBH,IAAnB,IAA0B,UAA1B,eAAwC,UAAG,SAAS,CAAC,aAAb,sCA7B7C,cAgCI,mCAhCJ,cAiCI,0CAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,kCAA7B,EAAoEpC,QAAQ,CAAC,aAAD,CAAe,CAACkC,QAAQ,CAAC,IAAV,CAAf,CAA5E,MAA6G,YAAY,CAAC,KAA1H,GAjCJ,CAkCK,sBAAAhC,MAAM,CAACsC,WAAP,kEAAoBJ,IAApB,IAA2B,UAA3B,eAAyC,UAAG,SAAS,CAAC,aAAb,qCAlC9C,cAqCI,mCArCJ,cAsCI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,kCAA7B,CAAiE,YAAY,CAAC,KAA9E,CAAoF,QAAQ,CAAE,kBAACL,CAAD,QAAKD,CAAAA,YAAY,CAACC,CAAD,CAAjB,EAA9F,EAtCJ,cA0CI,6BA1CJ,cA2CI,0CAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,kCAA/B,EAAsE/B,QAAQ,CAAC,OAAD,CAAS,CAACkC,QAAQ,CAAC,IAAV,CAAT,CAA9E,MAAyG,YAAY,CAAC,KAAtH,GA3CJ,CA4CK,gBAAAhC,MAAM,CAACuC,KAAP,sDAAcL,IAAd,IAAqB,UAArB,eAAmC,UAAG,SAAS,CAAC,aAAb,+BA5CxC,cA+CI,8BA/CJ,cAgDI,cAAM,SAAS,CAAC,SAAhB,WAA4B9B,KAA5B,WAhDJ,cAiDI,0CAAO,IAAI,CAAC,OAAZ,EAAyBN,QAAQ,CAAC,QAAD,CAAU,CAACkC,QAAQ,CAAC,IAAV,CAAV,CAAjC,MAA8D,GAAG,CAAC,GAAlE,CAAsE,GAAG,CAAC,GAA1E,CAA+E,IAAI,CAAC,GAApF,CAAwF,QAAQ,CAAE,kBAAAH,CAAC,QAAExB,CAAAA,QAAQ,CAACwB,CAAC,CAACC,MAAF,CAAS1B,KAAV,CAAV,EAAnG,GAjDJ,CAkDK,iBAAAJ,MAAM,CAACwC,MAAP,wDAAeN,IAAf,IAAsB,UAAtB,eAAoC,UAAG,SAAS,CAAC,aAAb,gCAlDzC,cAqDI,eAAQ,IAAI,CAAC,QAAb,CAAuB,SAAS,CAAC,yBAAjC,sBArDJ,GAJJ,GAVJ,GADJ,CA8EH,CAED,cAAetC,CAAAA,UAAf","sourcesContent":["import \"./Addproduct.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport {useForm} from \"react-hook-form\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\n\nfunction AddProduct(){\n    \n\n    const history = useHistory();\n    let {register,handleSubmit,formState:{errors}}=useForm();\n    let [file,setFile]=useState();\n    let [value,setValue]=useState(0);\n\n    const formHandleSubmit=(productObj)=>{\n        //getting name from local storage\n        productObj.name=localStorage.getItem(\"name\");\n        //create Formdata obj\n        let formData=new FormData();\n        //add files to formdat\n        formData.append(\"photo\",file,file.name);\n        //add userobj to form data\n        formData.append(\"userObj\",JSON.stringify(productObj));\n\n\n        // axios post request for adding product \n        axios.post(\"http://localhost:5000/product/createproduct\",formData)\n            .then(res=>{\n                let resobj=res.data;\n                alert(resobj.message);\n                if(resobj.message===\"product created\"){\n\n                    //based on condition the path is selected\n                    if(localStorage.getItem(\"admin-1\")){\n                        history.push(\"/admin\");\n                    }\n                    else{\n                        history.push(\"/sellerproduct\");\n                    }\n                }\n            })\n            .catch(err=>{\n                console.log(err);\n                alert(\"server is not respondoing!!! please check\");\n                alert(err.message);\n            });\n    };\n    // selecting file from pc\n    const onFileSelect=(e)=>{\n        setFile(e.target.files[0]);\n    };\n\n      \n\n    return(\n        <div className=\"main-div\">\n              \n            {/* logo */}\n            <Link to='/'>\n                <img\n                    className=\"login-logo\"\n                    src='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png' \n                    alt=\"img\"\n                />\n            </Link>\n            <div className=\"product-div\">\n                <h2>Create Product</h2>\n\n                {/* form */}\n                <form onSubmit={handleSubmit(formHandleSubmit)}>\n\n                    {/* book name */}\n\n                    <h5>Book Name</h5>\n                    <input type='text' className=\"form-control border  border-dark\" {...register(\"bookname\",{required:true})} autoComplete=\"off\"  />\n                    {errors.bookname?.type===\"required\" && <p className=\"text-danger\">bookname is Required</p>}\n\n                    {/* author */}\n                    <h5>Author Name</h5>\n                    <input type='text' className=\"form-control border  border-dark\" {...register(\"authorname\",{required:true})} autoComplete=\"off\"  />\n                    {errors.authorname?.type===\"required\" && <p className=\"text-danger\">Author Name is Required</p>}\n\n                    {/* category */}\n                    <h5>Category</h5>\n                    <select className=\"form-control border  border-dark\" {...register(\"category\",{required:true})}>\n                        <option>----Select Category----</option>\n                        <option value=\"HTML,CSS & RWD\">HTML,CSS & RWD</option>\n                        <option value=\"Modern JavaScript\">Modern JavaScript</option>\n                        <option value=\"React JS\">React JS</option>\n                        <option value=\"Node JS\">Node JS</option>\n                        <option value=\"Mongo DB\">Mongo DB</option>\n                        <option value=\"Full Stack Developer\">Full Stack Developer</option>\n                    </select>\n                    {errors.category?.type===\"required\" && <p className=\"text-danger\">Category is Required</p>}\n\n                    {/* date */}\n                    <h5>Published Date</h5>\n                    <input type='date' className=\"form-control border  border-dark\" {...register(\"publishDate\",{required:true})} autoComplete=\"off\"  />\n                    {errors.publisDate?.type===\"required\" && <p className=\"text-danger\">Publish Date is Required</p>}\n\n                    {/* description */}\n                    <h5>Description</h5>\n                    <input type='text' className=\"form-control border  border-dark\" {...register(\"description\",{required:true})} autoComplete=\"off\"  />\n                    {errors.description?.type===\"required\" && <p className=\"text-danger\">Description is Required</p>}\n\n                    {/* cover pic */}\n                    <h5>Cover Photo</h5>\n                    <input type='file' className=\"form-control border  border-dark\"  autoComplete=\"off\" onChange={(e)=>onFileSelect(e)}  />\n          \n               \n                    {/* price */}\n                    <h5>Price</h5>\n                    <input type='number' className=\"form-control border  border-dark\" {...register(\"price\",{required:true})} autoComplete=\"off\"   />\n                    {errors.price?.type===\"required\" && <p className=\"text-danger\">Price is Required</p>}\n\n                    {/* rating */}\n                    <h5>Rating</h5>\n                    <span className=\"me-3 h5\" >{value} Star</span>\n                    <input type='range'  {...register(\"rating\",{required:true})}  min=\"0\" max=\"5\"  step=\"1\" onChange={e=>setValue(e.target.value)}  />\n                    {errors.rating?.type===\"required\" && <p className=\"text-danger\">Rating is Required</p>}\n                       \n                    {/* submit button */}\n                    <button type=\"submit\"  className='login-signInButton mt-5'>Continue</button>\n\n\n\n\n                </form>\n            </div>\n\n        </div>\n    );\n}\n\nexport default AddProduct;"]},"metadata":{},"sourceType":"module"}