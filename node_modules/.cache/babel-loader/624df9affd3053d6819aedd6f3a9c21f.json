{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\924245\\\\React\\\\Final-Project\\\\src\\\\Components\\\\EditProduct.js\",\n    _s = $RefreshSig$();\n\nimport \"./EditProduct.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditProduct() {\n  _s();\n\n  var _errors$bookname, _errors$authorname, _errors$category, _errors$publisDate, _errors$description, _errors$price, _errors$rating;\n\n  let paramsObj = useParams();\n\n  const axios = require(\"axios\");\n\n  let [product, setProduct] = useState();\n  const history = useHistory();\n  let {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  let [file, setFile] = useState();\n  let [value, setValue] = useState(0);\n  useEffect(() => {\n    axios.get(`http://localhost:6000/product/getbook/${paramsObj.bookname}`).then(res => {\n      let productObj = res.data.message;\n      setProduct(productObj);\n    });\n  });\n\n  const formHandleSubmit = productObj => {\n    //create Formdata obj\n    let formData = new FormData(); //add files to formdat\n\n    formData.append(\"photo\", file, file.name); //add userobj to form data\n\n    formData.append(\"userObj\", JSON.stringify(productObj));\n    console.log(formData);\n    axios.post(\"/product/updateproduct\", formData).then(res => {\n      let resobj = res.data;\n      alert(resobj.message);\n\n      if (resobj.message === \"product updated\") {\n        history.push(`/book/${paramsObj.bookname}`);\n      }\n    }).catch(err => {\n      console.log(err);\n      alert(err.message);\n    });\n  };\n\n  const onFileSelect = e => {\n    setFile(e.target.files[0]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-div\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"login-logo\",\n        src: \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\",\n        alt: \"img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), product && /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(formHandleSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Book Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control border  border-dark\",\n          ...register(\"bookname\", {\n            required: true\n          }),\n          value: product.bookname,\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), ((_errors$bookname = errors.bookname) === null || _errors$bookname === void 0 ? void 0 : _errors$bookname.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: \"bookname is Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 50\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Author Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control border  border-dark\",\n          ...register(\"authorname\", {\n            required: true\n          }),\n          placeholder: product.authorname,\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), ((_errors$authorname = errors.authorname) === null || _errors$authorname === void 0 ? void 0 : _errors$authorname.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: \"Author Name is Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 52\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control border  border-dark\",\n          ...register(\"category\", {\n            required: true\n          }),\n          value: product.category,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"----Select Category----\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"HTML,CSS & RWD\",\n            children: \"HTML,CSS & RWD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Modern JavaScript\",\n            children: \"Modern JavaScript\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"React JS\",\n            children: \"React JS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Node JS\",\n            children: \"Node JS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Mongo DB\",\n            children: \"Mongo DB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Full Stack Developer\",\n            children: \"Full Stack Developer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), ((_errors$category = errors.category) === null || _errors$category === void 0 ? void 0 : _errors$category.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: \"Category is Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 50\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Published Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          className: \"form-control border  border-dark\",\n          ...register(\"publishDate\", {\n            required: true\n          }),\n          value: product.publishDate,\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), ((_errors$publisDate = errors.publisDate) === null || _errors$publisDate === void 0 ? void 0 : _errors$publisDate.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: \"Publish Date is Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 52\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control border  border-dark\",\n          ...register(\"description\", {\n            required: true\n          }),\n          placeholder: product.description,\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), ((_errors$description = errors.description) === null || _errors$description === void 0 ? void 0 : _errors$description.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: \"Description is Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Cover Photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          className: \"form-control border  border-dark\",\n          autoComplete: \"off\",\n          onChange: e => onFileSelect(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          className: \"form-control border  border-dark\",\n          ...register(\"price\", {\n            required: true\n          }),\n          placeholder: product.price,\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), ((_errors$price = errors.price) === null || _errors$price === void 0 ? void 0 : _errors$price.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: \"Price is Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 47\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"me-3 h5\",\n          children: [value, \" Star\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          ...register(\"rating\", {\n            required: true\n          }),\n          min: \"0\",\n          max: \"5\",\n          step: \"1\",\n          onChange: e => setValue(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), ((_errors$rating = errors.rating) === null || _errors$rating === void 0 ? void 0 : _errors$rating.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: \"Rating is Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 48\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"login-signInButton mt-5\",\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EditProduct, \"NHIL9UxC/ANCNrDoy0BdjmPfQL4=\", false, function () {\n  return [useParams, useHistory, useForm];\n});\n\n_c = EditProduct;\nexport default EditProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProduct\");","map":{"version":3,"sources":["C:/Users/924245/React/Final-Project/src/Components/EditProduct.js"],"names":["useParams","Link","useHistory","useForm","useState","useEffect","EditProduct","paramsObj","axios","require","product","setProduct","history","register","handleSubmit","formState","errors","file","setFile","value","setValue","get","bookname","then","res","productObj","data","message","formHandleSubmit","formData","FormData","append","name","JSON","stringify","console","log","post","resobj","alert","push","catch","err","onFileSelect","e","target","files","required","type","authorname","category","publishDate","publisDate","description","price","rating"],"mappings":"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","sourcesContent":["import \"./EditProduct.css\"\r\nimport {useParams} from \"react-router-dom\"\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {useForm} from \"react-hook-form\"\r\nimport { useState,useEffect } from \"react\";\r\n\r\nfunction EditProduct(){\r\n\r\n    let paramsObj=useParams();\r\n    const axios=require(\"axios\")\r\n    let [product,setProduct]=useState()\r\n\r\n\r\n    const history = useHistory();\r\n    \r\n    let {register,handleSubmit,formState:{errors}}=useForm();\r\n    let [file,setFile]=useState();\r\n    let [value,setValue]=useState(0);\r\n\r\n\r\n    useEffect(()=>{\r\n        axios.get(`http://localhost:6000/product/getbook/${paramsObj.bookname}`)\r\n        .then(res=>{\r\n            let productObj=res.data.message \r\n            setProduct(productObj)\r\n            \r\n            \r\n         })\r\n        })\r\n\r\n        const formHandleSubmit=(productObj)=>{\r\n\r\n            \r\n            //create Formdata obj\r\n            let formData=new FormData();\r\n         //add files to formdat\r\n          formData.append(\"photo\",file,file.name)\r\n            //add userobj to form data\r\n          formData.append(\"userObj\",JSON.stringify(productObj))\r\n          console.log(formData)\r\n\r\n             axios.post(\"/product/updateproduct\",formData)\r\n         .then(res=>{\r\n           let resobj=res.data\r\n            alert(resobj.message)\r\n            if(resobj.message===\"product updated\"){\r\n                history.push(`/book/${paramsObj.bookname}`)\r\n            }\r\n          })\r\n           .catch(err=>{\r\n             console.log(err)\r\n              alert(err.message)\r\n              })\r\n            }\r\n\r\n            const onFileSelect=(e)=>{\r\n                setFile(e.target.files[0])\r\n            }\r\n\r\n\r\n\r\n\r\n    return(\r\n        \r\n        \r\n\r\n        <div className=\"main-div\">\r\n              \r\n              {/* logo */}\r\n           <Link to='/'>\r\n                <img\r\n                    className=\"login-logo\"\r\n                    src='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png' \r\n                    alt=\"img\"\r\n                />\r\n            </Link>\r\n        <div className=\"product-div\">\r\n        <h2>Create Product</h2>\r\n\r\n        {/* form */}\r\n        {product &&\r\n        <form onSubmit={handleSubmit(formHandleSubmit)}>\r\n\r\n            {/* book name */}\r\n\r\n        <h5>Book Name</h5>\r\n        <input type='text' className=\"form-control border  border-dark\" {...register(\"bookname\",{required:true})} value={product.bookname} autoComplete=\"off\"  />\r\n          {errors.bookname?.type===\"required\" && <p className=\"text-danger\">bookname is Required</p>}\r\n\r\n              {/* author */}\r\n          <h5>Author Name</h5>\r\n          <input type='text' className=\"form-control border  border-dark\" {...register(\"authorname\",{required:true})} placeholder={product.authorname} autoComplete=\"off\"  />\r\n          {errors.authorname?.type===\"required\" && <p className=\"text-danger\">Author Name is Required</p>}\r\n\r\n          {/* category */}\r\n          <h5>Category</h5>\r\n          <select className=\"form-control border  border-dark\" {...register(\"category\",{required:true})} value={product.category}>\r\n              <option>----Select Category----</option>\r\n              <option value=\"HTML,CSS & RWD\">HTML,CSS & RWD</option>\r\n              <option value=\"Modern JavaScript\">Modern JavaScript</option>\r\n              <option value=\"React JS\">React JS</option>\r\n              <option value=\"Node JS\">Node JS</option>\r\n              <option value=\"Mongo DB\">Mongo DB</option>\r\n              <option value=\"Full Stack Developer\">Full Stack Developer</option>\r\n          </select>\r\n          {errors.category?.type===\"required\" && <p className=\"text-danger\">Category is Required</p>}\r\n\r\n             {/* date */}\r\n          <h5>Published Date</h5>\r\n          <input type='date' className=\"form-control border  border-dark\" {...register(\"publishDate\",{required:true})} value={product.publishDate} autoComplete=\"off\"  />\r\n          {errors.publisDate?.type===\"required\" && <p className=\"text-danger\">Publish Date is Required</p>}\r\n\r\n            {/* description */}\r\n          <h5>Description</h5>\r\n          <input type='text' className=\"form-control border  border-dark\" {...register(\"description\",{required:true})} placeholder={product.description} autoComplete=\"off\"  />\r\n          {errors.description?.type===\"required\" && <p className=\"text-danger\">Description is Required</p>}\r\n\r\n            {/* cover pic */}\r\n          <h5>Cover Photo</h5>\r\n          <input type='file' className=\"form-control border  border-dark\"  autoComplete=\"off\"  onChange={(e)=>onFileSelect(e)}  />\r\n          \r\n               \r\n               {/* price */}\r\n          <h5>Price</h5>\r\n          <input type='number' className=\"form-control border  border-dark\" {...register(\"price\",{required:true})} placeholder={product.price} autoComplete=\"off\"   />\r\n          {errors.price?.type===\"required\" && <p className=\"text-danger\">Price is Required</p>}\r\n\r\n             {/* rating */}\r\n          <h5>Rating</h5>\r\n          <span className=\"me-3 h5\" >{value} Star</span>\r\n          <input type='range'  {...register(\"rating\",{required:true})}  min=\"0\" max=\"5\"  step=\"1\"  onChange={e=>setValue(e.target.value)}  />\r\n          {errors.rating?.type===\"required\" && <p className=\"text-danger\">Rating is Required</p>}\r\n\r\n\r\n\r\n          <button type=\"submit\"  className='login-signInButton mt-5'>Continue</button>\r\n\r\n\r\n\r\n\r\n         </form>\r\n         }\r\n        </div>\r\n\r\n        </div>\r\n        \r\n        \r\n    )\r\n}\r\n\r\nexport default EditProduct;"]},"metadata":{},"sourceType":"module"}