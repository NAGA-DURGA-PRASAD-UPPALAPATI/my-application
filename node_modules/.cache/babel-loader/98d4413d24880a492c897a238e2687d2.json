{"ast":null,"code":"import _objectSpread from\"C:/Users/924245/React/Final-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/924245/React/Final-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./login.css\";import{Link,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){var _errors$username,_errors$mobileNo,_errors$email,_errors$pic,_errors$password,_errors$password2;var history=useHistory();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var formHandleSubmit=function formHandleSubmit(userObj){var formData=new FormData();//add files to formdat\nformData.append(\"photo\",file,file.name);//add userobj to form data\nformData.append(\"userObj\",JSON.stringify(userObj));//pushing data to db\naxios.post(\"http://localhost:5000/\".concat(userObj.type,\"/createuser\"),formData).then(function(res){var resobj=res.data;alert(resobj.message);if(resobj.message===\"User account created\"){history.push(\"/login\");}if(resobj.message===\"Business Account Created\"){history.push(\"/login\");}}).catch(function(err){console.log(err);alert(\"something is wrong\");});};var onFileSelect=function onFileSelect(e){setFile(e.target.files[0]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{className:\"login-logo\",src:\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\",alt:\"img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(formHandleSubmit),children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Register for\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({className:\"form-control border  border-dark\"},register(\"type\",{required:true})),{},{children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"User Account\"}),/*#__PURE__*/_jsx(\"option\",{value:\"seller\",children:\"Business Account\"})]}))}),/*#__PURE__*/_jsx(\"h5\",{children:\"Your Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",className:\"form-control border  border-dark\"},register(\"username\",{required:true})),{},{autoComplete:\"off\"})),((_errors$username=errors.username)===null||_errors$username===void 0?void 0:_errors$username.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Username is required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"number\",className:\"form-control border border-dark\"},register(\"mobileNo\",{required:true})),{},{autoComplete:\"off\"})),((_errors$mobileNo=errors.mobileNo)===null||_errors$mobileNo===void 0?void 0:_errors$mobileNo.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Mobile No is required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"email\",className:\"form-control border border-dark\"},register(\"email\",{required:true})),{},{autoComplete:\"off\"})),((_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Email is required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Profile Pic\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"file\",className:\"form-control border border-dark\"},register(\"pic\",{required:true})),{},{name:\"photo\",onChange:function onChange(e){return onFileSelect(e);}})),((_errors$pic=errors.pic)===null||_errors$pic===void 0?void 0:_errors$pic.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Pic is required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"password\",className:\"form-control border border-dark\"},register(\"password\",{required:true,minLength:6})),{},{autoComplete:\"off\"})),((_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Password is required\"}),((_errors$password2=errors.password)===null||_errors$password2===void 0?void 0:_errors$password2.type)===\"minLength\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger h6\",children:\" Passwords must be at least 6 characters\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-danger h3\",children:\"*\"}),\"Passwords must be at least 6 characters.\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-signInButton\",children:\"Continue\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"We will send you a text to verify your phone.\",/*#__PURE__*/_jsx(\"br\",{}),\"Message and Data rates may apply.\"]})]})]});}export default Register;","map":{"version":3,"sources":["C:/Users/924245/React/Final-Project/src/Components/register.js"],"names":["Link","useHistory","useForm","useState","axios","Register","history","register","handleSubmit","errors","formState","file","setFile","formHandleSubmit","userObj","formData","FormData","append","name","JSON","stringify","post","type","then","res","resobj","data","alert","message","push","catch","err","console","log","onFileSelect","e","target","files","required","username","mobileNo","email","pic","minLength","password"],"mappings":"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","sourcesContent":["\nimport \"./login.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport {useForm} from \"react-hook-form\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\n\nfunction Register() {\n    const history = useHistory();\n    let {register,handleSubmit,formState:{errors}}=useForm();\n    let [file,setFile]=useState();\n   \n\n    const formHandleSubmit=(userObj)=>{\n\n\n        let formData=new FormData();\n        //add files to formdat\n        formData.append(\"photo\",file,file.name);\n        //add userobj to form data\n        formData.append(\"userObj\",JSON.stringify(userObj));\n        \n\n        //pushing data to db\n        axios.post(`http://localhost:5000/${userObj.type}/createuser`,formData)\n            .then(res=>{\n                let resobj=res.data;\n                alert(resobj.message);\n                if(resobj.message===\"User account created\"){\n                    history.push(\"/login\");\n                }\n                if(resobj.message===\"Business Account Created\"){\n                    history.push(\"/login\");\n                }\n\n            })\n            .catch(err=>{\n                console.log(err);\n                alert(\"something is wrong\");\n            });\n    };\n\n    \n\n    const onFileSelect=(e)=>{\n        setFile(e.target.files[0]);\n\n    };\n\n    \n    \n\n    return (\n        <div className='login'>\n            <Link to='/'>\n                <img\n                    className=\"login-logo\"\n                    src='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png' \n                    alt=\"img\"\n                />\n            </Link>\n\n            <div className='login-container'>\n                <h2>Create Account</h2>\n\n                <form onSubmit={handleSubmit(formHandleSubmit)}>\n\n                    <h5>Register for</h5>\n                    <div className=''>\n                        <select className=\"form-control border  border-dark\" {...register(\"type\",{required:true})}>\n                            <option value=\"user\">User Account</option>\n                            <option value=\"seller\">Business Account</option>\n                        \n                        </select>\n                 \n                    </div>\n  \n\n                    <h5>Your Name</h5>\n                    <input type='text' className=\"form-control border  border-dark\" {...register(\"username\",{required:true})} autoComplete=\"off\"  />\n                    {errors.username?.type===\"required\" && <p className=\"text-danger\">Username is required</p>}\n\n                    <h5>Mobile Number</h5>\n                    <input type=\"number\" className=\"form-control border border-dark\" {...register(\"mobileNo\",{required:true})} autoComplete=\"off\" ></input>\n                    {errors.mobileNo?.type===\"required\" && <p className=\"text-danger\">Mobile No is required</p>}\n\n                    <h5>Email</h5>\n                    <input type=\"email\" className=\"form-control border border-dark\" {...register(\"email\",{required:true})} autoComplete=\"off\" ></input>\n                    {errors.email?.type===\"required\" && <p className=\"text-danger\">Email is required</p>}\n\n                    <h5>Profile Pic</h5>\n                    <input type=\"file\" className=\"form-control border border-dark\"{...register(\"pic\",{required:true})} name=\"photo\" onChange={(e)=>onFileSelect(e)}></input>\n                    {errors.pic?.type===\"required\" && <p className=\"text-danger\">Pic is required</p>}\n\n                    <h5>Password</h5>\n                    <input type='password'  className=\"form-control border border-dark\" {...register(\"password\",{required:true,minLength:6})} autoComplete=\"off\"  />\n                    {errors.password?.type===\"required\" && <p className=\"text-danger\">Password is required</p>}\n                    {errors.password?.type===\"minLength\" && <p className=\"text-danger h6\"> Passwords must be at least 6 characters</p>}\n   \n                    <p><span className=\"text-danger h3\">*</span>Passwords must be at least 6 characters.</p>\n\n                    <button type=\"submit\"  className='login-signInButton'>Continue</button>\n                    \n                </form>\n\n                <p>\n                We will send you a text to verify your phone.<br></br>Message and Data rates may apply.\n                </p>\n\n                \n            </div>\n        </div>\n    );\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}