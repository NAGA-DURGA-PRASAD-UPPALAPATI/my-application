{"ast":null,"code":"import _objectSpread from\"C:/Users/924245/React/Final-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/924245/React/Final-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./EditProduct.css\";import{useParams}from\"react-router-dom\";import{Link,useHistory}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProduct(){var _errors$bookname,_errors$authorname,_errors$category,_errors$publisDate,_errors$description,_errors$price,_errors$rating;var paramsObj=useParams();var _useState=useState(),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var history=useHistory();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),file=_useState4[0],setFile=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],setValue=_useState6[1];useEffect(function(){axios.get(\"http://localhost:5000/product/getbook/\".concat(paramsObj.bookname)).then(function(res){var productObj=res.data.message;setProduct(productObj);});});var formHandleSubmit=function formHandleSubmit(productObj){//create Formdata obj\nvar formData=new FormData();//add files to formdat\nformData.append(\"photo\",file,file.name);//add userobj to form data\nformData.append(\"userObj\",JSON.stringify(productObj));console.log(formData);axios.post(\"http://localhost:5000/product/updateproduct\",formData).then(function(res){var resobj=res.data;alert(resobj.message);if(resobj.message===\"product updated\"){history.push(\"/book/\".concat(paramsObj.bookname));}}).catch(function(err){console.log(err);alert(err.message);});};var onFileSelect=function onFileSelect(e){setFile(e.target.files[0]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-div\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{className:\"login-logo\",src:\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\",alt:\"img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-div\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Product\"}),product&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(formHandleSubmit),children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Book Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",className:\"form-control border  border-dark\"},register(\"bookname\",{required:true})),{},{value:product.bookname,autoComplete:\"off\"})),((_errors$bookname=errors.bookname)===null||_errors$bookname===void 0?void 0:_errors$bookname.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"bookname is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Author Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",className:\"form-control border  border-dark\"},register(\"authorname\",{required:true})),{},{placeholder:product.authorname,autoComplete:\"off\"})),((_errors$authorname=errors.authorname)===null||_errors$authorname===void 0?void 0:_errors$authorname.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Author Name is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({className:\"form-control border  border-dark\"},register(\"category\",{required:true})),{},{value:product.category,children:[/*#__PURE__*/_jsx(\"option\",{children:\"----Select Category----\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HTML,CSS & RWD\",children:\"HTML,CSS & RWD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Modern JavaScript\",children:\"Modern JavaScript\"}),/*#__PURE__*/_jsx(\"option\",{value:\"React JS\",children:\"React JS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Node JS\",children:\"Node JS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mongo DB\",children:\"Mongo DB\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Full Stack Developer\",children:\"Full Stack Developer\"})]})),((_errors$category=errors.category)===null||_errors$category===void 0?void 0:_errors$category.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Category is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Published Date\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"date\",className:\"form-control border  border-dark\"},register(\"publishDate\",{required:true})),{},{value:product.publishDate,autoComplete:\"off\"})),((_errors$publisDate=errors.publisDate)===null||_errors$publisDate===void 0?void 0:_errors$publisDate.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Publish Date is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",className:\"form-control border  border-dark\"},register(\"description\",{required:true})),{},{placeholder:product.description,autoComplete:\"off\"})),((_errors$description=errors.description)===null||_errors$description===void 0?void 0:_errors$description.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Description is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Cover Photo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control border  border-dark\",autoComplete:\"off\",onChange:function onChange(e){return onFileSelect(e);}}),/*#__PURE__*/_jsx(\"h5\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"number\",className:\"form-control border  border-dark\"},register(\"price\",{required:true})),{},{placeholder:product.price,autoComplete:\"off\"})),((_errors$price=errors.price)===null||_errors$price===void 0?void 0:_errors$price.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Price is Required\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Rating\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"me-3 h5\",children:[value,\" Star\"]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"range\"},register(\"rating\",{required:true})),{},{min:\"0\",max:\"5\",step:\"1\",onChange:function onChange(e){return setValue(e.target.value);}})),((_errors$rating=errors.rating)===null||_errors$rating===void 0?void 0:_errors$rating.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Rating is Required\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-signInButton mt-5\",children:\"Continue\"})]})]})]});}export default EditProduct;","map":{"version":3,"sources":["C:/Users/924245/React/Final-Project/src/Components/EditProduct.js"],"names":["useParams","Link","useHistory","useForm","useState","useEffect","axios","EditProduct","paramsObj","product","setProduct","history","register","handleSubmit","errors","formState","file","setFile","value","setValue","get","bookname","then","res","productObj","data","message","formHandleSubmit","formData","FormData","append","name","JSON","stringify","console","log","post","resobj","alert","push","catch","err","onFileSelect","e","target","files","required","type","authorname","category","publishDate","publisDate","description","price","rating"],"mappings":"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","sourcesContent":["import \"./EditProduct.css\";\nimport {useParams} from \"react-router-dom\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport {useForm} from \"react-hook-form\";\nimport { useState,useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction EditProduct(){\n\n    let paramsObj=useParams();\n    \n    let [product,setProduct]=useState();\n\n\n    const history = useHistory();\n    \n    let {register,handleSubmit,formState:{errors}}=useForm();\n    let [file,setFile]=useState();\n    let [value,setValue]=useState(0);\n\n\n    useEffect(()=>{\n        axios.get(`http://localhost:5000/product/getbook/${paramsObj.bookname}`)\n            .then(res=>{\n                let productObj=res.data.message; \n                setProduct(productObj);\n            \n            \n            });\n    });\n\n    const formHandleSubmit=(productObj)=>{\n\n            \n        //create Formdata obj\n        let formData=new FormData();\n        //add files to formdat\n        formData.append(\"photo\",file,file.name);\n        //add userobj to form data\n        formData.append(\"userObj\",JSON.stringify(productObj));\n        console.log(formData);\n\n        axios.post(\"http://localhost:5000/product/updateproduct\",formData)\n            .then(res=>{\n                let resobj=res.data;\n                alert(resobj.message);\n                if(resobj.message===\"product updated\"){\n                    history.push(`/book/${paramsObj.bookname}`);\n                }\n            })\n            .catch(err=>{\n                console.log(err);\n                alert(err.message);\n            });\n    };\n\n    const onFileSelect=(e)=>{\n        setFile(e.target.files[0]);\n    };\n\n\n\n\n    return(\n        \n        \n\n        <div className=\"main-div\">\n              \n            {/* logo */}\n            <Link to='/'>\n                <img\n                    className=\"login-logo\"\n                    src='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png' \n                    alt=\"img\"\n                />\n            </Link>\n            <div className=\"product-div\">\n                <h2>Create Product</h2>\n\n                {/* form */}\n                {product &&\n        <form onSubmit={handleSubmit(formHandleSubmit)}>\n\n            {/* book name */}\n\n            <h5>Book Name</h5>\n            <input type='text' className=\"form-control border  border-dark\" {...register(\"bookname\",{required:true})} value={product.bookname} autoComplete=\"off\"  />\n            {errors.bookname?.type===\"required\" && <p className=\"text-danger\">bookname is Required</p>}\n\n            {/* author */}\n            <h5>Author Name</h5>\n            <input type='text' className=\"form-control border  border-dark\" {...register(\"authorname\",{required:true})} placeholder={product.authorname} autoComplete=\"off\"  />\n            {errors.authorname?.type===\"required\" && <p className=\"text-danger\">Author Name is Required</p>}\n\n            {/* category */}\n            <h5>Category</h5>\n            <select className=\"form-control border  border-dark\" {...register(\"category\",{required:true})} value={product.category}>\n                <option>----Select Category----</option>\n                <option value=\"HTML,CSS & RWD\">HTML,CSS & RWD</option>\n                <option value=\"Modern JavaScript\">Modern JavaScript</option>\n                <option value=\"React JS\">React JS</option>\n                <option value=\"Node JS\">Node JS</option>\n                <option value=\"Mongo DB\">Mongo DB</option>\n                <option value=\"Full Stack Developer\">Full Stack Developer</option>\n            </select>\n            {errors.category?.type===\"required\" && <p className=\"text-danger\">Category is Required</p>}\n\n            {/* date */}\n            <h5>Published Date</h5>\n            <input type='date' className=\"form-control border  border-dark\" {...register(\"publishDate\",{required:true})} value={product.publishDate} autoComplete=\"off\"  />\n            {errors.publisDate?.type===\"required\" && <p className=\"text-danger\">Publish Date is Required</p>}\n\n            {/* description */}\n            <h5>Description</h5>\n            <input type='text' className=\"form-control border  border-dark\" {...register(\"description\",{required:true})} placeholder={product.description} autoComplete=\"off\"  />\n            {errors.description?.type===\"required\" && <p className=\"text-danger\">Description is Required</p>}\n\n            {/* cover pic */}\n            <h5>Cover Photo</h5>\n            <input type='file' className=\"form-control border  border-dark\"  autoComplete=\"off\"  onChange={(e)=>onFileSelect(e)}  />\n          \n               \n            {/* price */}\n            <h5>Price</h5>\n            <input type='number' className=\"form-control border  border-dark\" {...register(\"price\",{required:true})} placeholder={product.price} autoComplete=\"off\"   />\n            {errors.price?.type===\"required\" && <p className=\"text-danger\">Price is Required</p>}\n\n            {/* rating */}\n            <h5>Rating</h5>\n            <span className=\"me-3 h5\" >{value} Star</span>\n            <input type='range'  {...register(\"rating\",{required:true})}  min=\"0\" max=\"5\"  step=\"1\"  onChange={e=>setValue(e.target.value)}  />\n            {errors.rating?.type===\"required\" && <p className=\"text-danger\">Rating is Required</p>}\n\n\n\n            <button type=\"submit\"  className='login-signInButton mt-5'>Continue</button>\n\n\n\n\n        </form>\n                }\n            </div>\n\n        </div>\n        \n        \n    );\n}\n\nexport default EditProduct;"]},"metadata":{},"sourceType":"module"}